<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>

<body>
    <div id="app">
           
    </div>
    <script>
        Vue.component('test',{
           props:{
             aaa:String
           },
           template:`
           <div>
          sonvalue: {{father}}
          </br>
          value:{{aaa}}
        </br>
               <button @click="fatherClick(father)" >按钮</button>
           </div>
           `,
           data(){
               return {
                  father:this.aaa
               }
           },
           methods:{
            sonClick(){
                console.log('儿子');
                
            },
            fatherClick(val){
                
                this.$emit('freeMean');
             
            }
            
           },
           watch:{
            aaa(val){
                this.$emit('freeMean');
              this.father = val;
            },
            father(val){
                
            }
           }
        })
        new Vue({
            el: '#app',
            template:`
           
              <test :aaa="value" @freeMean="fatherClick(value)"/>
            `,
            data: {
              value:'我是父'
            },
            methods: {
               fatherClick(a){
                  this.value = '父级变了';
                  console.log(this.value);
               }
            }
        })
    </script>
</body>

</html>